<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
<title>Insert title here</title>
</h:head>
<h:body>
<ui:insert>
		<ui:include src="/templates/template_menubaradmin.xhtml"></ui:include>
	</ui:insert>
	
	<h1 style="Color: gray; text-align: center;">Article's List</h1>	
	<h:form>

		<p:dataTable var="a" value="#{sessionScope.listArt}" id="idTable" style="text-align: center">
		
			<p:column headerText="Picture">
		        <h:graphicImage value="#{a.img}" width="200px"/>
		    </p:column>
		    
		    <p:column headerText="Id">
		        <h:outputText value="#{a.idArt}" />
		    </p:column>
		 
		    <p:column headerText="Name">
		        <h:outputText value="#{a.designation}" />
		    </p:column>
		 
		    <p:column headerText="Description">
		        <h:outputText value="#{a.description}" />
		    </p:column>
		    
		    <p:column headerText="Price">
		        <h:outputText value="#{a.price}" />
		    </p:column>
		    
		    <p:column headerText="Available Stock">
		        <h:outputText value="#{a.stock}" />
		    </p:column>
		    
		    <p:column headerText="Category">
		        <h:outputText value="#{a.category.categoryName}" />
		    </p:column>
		    
		    <p:column headerText="Operations">
		    	<p:commandLink value="Update" action="#{artMB.searchArticle}" update="@all">
		    		<f:setPropertyActionListener value="#{a}" target="#{artMB.article}"></f:setPropertyActionListener>
		    	</p:commandLink>
		    	|
		    	<p:commandLink value="Delete" action="#{artMB.deleteArticle}" update="@all">
		    		<f:setPropertyActionListener value="#{a}" target="#{artMB.article}"></f:setPropertyActionListener>
		    	</p:commandLink>
		    </p:column>
		</p:dataTable>
		<h3 style="color:red;"><h:messages/></h3>
	</h:form>
</h:body>
</html>